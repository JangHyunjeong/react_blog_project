{"ast":null,"code":"import _slicedToArray from\"C:/Users/82109/Desktop/jhj/\\uACF5\\uBD80/react_project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";//import './css/write-page.css';\nimport{useState}from'react';import{useParams}from'react-router-dom';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ViewPage(){var params=useParams();var contentArray=window.localStorage.getItem(\"contentArray\");var _useState=useState(JSON.parse(contentArray)),_useState2=_slicedToArray(_useState,2),parsedData=_useState2[0],setParsedData=_useState2[1];var thisCont=parsedData.filter(function(item){return item.key==params.id;});//console.log('00',thisCont);\n//const thisVal = thisCont[0].value;\nvar _useState3=useState(thisCont[0].value),_useState4=_slicedToArray(_useState3,2),thisVal=_useState4[0],setThisValue=_useState4[1];var _useState5=useState(thisCont[0].title),_useState6=_slicedToArray(_useState5,2),thisTit=_useState6[0],setThisTitle=_useState6[1];//02. 삭제하기\nvar actionDel=function actionDel(e){e.preventDefault();parsedData=parsedData.filter(function(item){return item.key!==Number(params.id);});window.localStorage.setItem(\"contentArray\",JSON.stringify(parsedData));//데이터는 그 다음에 set해주면 돼. 먼저 set 하면 오류나!!!\nsetParsedData(JSON.parse(window.localStorage.getItem(\"contentArray\")));window.location.href='/';};//03. 수정하기\n//03-01) textarea의 변화를 감지\nvar changeContent=function changeContent(e){e.preventDefault();setThisValue(e.target.value);};//03-01) title의 변화를 감지\nvar changeTitle=function changeTitle(e){e.preventDefault();setThisTitle(e.target.value);};//03-01) 수정완료 버튼 클릭시, 수정된 값을 저장\nvar actionEdit=function actionEdit(e){e.preventDefault();//03-02) item.key == params.id 일때, 해당 item의 value를 textarea의 value로 수정\nparsedData.map(function(item){if(item.key==params.id){item.value=thisVal;item.title=thisTit;}});//03-03) localStroage에 해당 사항을 저장해준다.\nwindow.localStorage.setItem(\"contentArray\",JSON.stringify(parsedData));//데이터는 그 다음에 set해주면 돼. 먼저 set 하면 오류나!!!\nsetParsedData(JSON.parse(window.localStorage.getItem(\"contentArray\")));window.location.href=\"/\";};return/*#__PURE__*/_jsx(\"div\",{className:\"view-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"sub-inner\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"sub-title\",children:\"View\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:changeTitle,value:thisTit,readOnly:true}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"\\uB0B4\\uC6A9\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\",onChange:changeContent,value:thisVal,readOnly:true,children:thisVal}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-wrap-row\",children:[/*#__PURE__*/_jsx(Link,{to:'/write/'+params.id,type:\"button\",className:\"button button-m button-normal\",children:\" \\uC218\\uC815\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"button button-m button-normal\",onClick:actionDel,children:\" \\uC0AD\\uC81C\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"button button-m button-ok\",children:\"\\uBAA9\\uB85D\\uC73C\\uB85C\"})]})]})]})});}export default ViewPage;","map":{"version":3,"names":["useState","useParams","Link","ViewPage","params","contentArray","window","localStorage","getItem","JSON","parse","parsedData","setParsedData","thisCont","filter","item","key","id","value","thisVal","setThisValue","title","thisTit","setThisTitle","actionDel","e","preventDefault","Number","setItem","stringify","location","href","changeContent","target","changeTitle","actionEdit","map"],"sources":["C:/Users/82109/Desktop/jhj/공부/react_project/src/routes/ViewPage.js"],"sourcesContent":["//import './css/write-page.css';\r\nimport { useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction ViewPage() {\r\n  const params = useParams();\r\n  const contentArray =  window.localStorage.getItem(\"contentArray\");\r\n  let [parsedData, setParsedData] = useState(JSON.parse(contentArray));\r\n\r\n  var thisCont = parsedData.filter(\r\n    (item) => item.key == params.id\r\n  );\r\n  //console.log('00',thisCont);\r\n  //const thisVal = thisCont[0].value;\r\n  const [thisVal, setThisValue] = useState(thisCont[0].value);\r\n  const [thisTit, setThisTitle] = useState(thisCont[0].title);\r\n\r\n  //02. 삭제하기\r\n  const actionDel = (e) => {\r\n    e.preventDefault();\r\n\r\n    parsedData = parsedData.filter(\r\n      (item) => item.key !== Number(params.id)\r\n    );\r\n\r\n    window.localStorage.setItem(\"contentArray\", JSON.stringify(parsedData));\r\n    //데이터는 그 다음에 set해주면 돼. 먼저 set 하면 오류나!!!\r\n    setParsedData(JSON.parse(window.localStorage.getItem(\"contentArray\")));\r\n    \r\n    window.location.href = '/';\r\n  }\r\n\r\n  //03. 수정하기\r\n  //03-01) textarea의 변화를 감지\r\n  const changeContent = (e) => {\r\n    e.preventDefault();\r\n    setThisValue(e.target.value);\r\n  }\r\n  //03-01) title의 변화를 감지\r\n  const changeTitle = (e) => {\r\n    e.preventDefault();\r\n    setThisTitle(e.target.value);\r\n  }\r\n\r\n  //03-01) 수정완료 버튼 클릭시, 수정된 값을 저장\r\n  const actionEdit = (e) => {\r\n    e.preventDefault();\r\n\r\n    //03-02) item.key == params.id 일때, 해당 item의 value를 textarea의 value로 수정\r\n    parsedData.map((item) => {\r\n        if(item.key == params.id){\r\n          item.value = thisVal;\r\n          item.title = thisTit;\r\n        }\r\n      }\r\n    );\r\n\r\n    //03-03) localStroage에 해당 사항을 저장해준다.\r\n    window.localStorage.setItem(\"contentArray\", JSON.stringify(parsedData));\r\n    //데이터는 그 다음에 set해주면 돼. 먼저 set 하면 오류나!!!\r\n    setParsedData(JSON.parse(window.localStorage.getItem(\"contentArray\")));\r\n\r\n    window.location.href =\"/\"\r\n\r\n  }\r\n  \r\n  return (\r\n    <div className=\"view-page\">\r\n      <div className='sub-inner'>\r\n        <h2 className='sub-title'>View</h2>\r\n        <form>\r\n          <input\r\n            type=\"text\"\r\n            onChange={changeTitle}\r\n            value={thisTit}\r\n            readOnly>\r\n          </input>\r\n          <textarea\r\n            placeholder=\"내용을 입력해주세요.\"\r\n            onChange={changeContent}\r\n            value={thisVal}\r\n            readOnly\r\n          >{thisVal}\r\n          </textarea>\r\n           \r\n          <div className='button-wrap-row'>\r\n            <Link to={'/write/'+params.id} \r\n              type=\"button\" \r\n              className='button button-m button-normal'\r\n            > 수정</Link>\r\n            <button \r\n            type='button'\r\n            className='button button-m button-normal'\r\n            onClick={actionDel}\r\n            > 삭제\r\n            </button>\r\n            <Link to=\"/\"\r\n            className='button button-m button-ok'\r\n            >목록으로</Link>\r\n          </div>\r\n\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ViewPage;"],"mappings":"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"},"metadata":{},"sourceType":"module"}