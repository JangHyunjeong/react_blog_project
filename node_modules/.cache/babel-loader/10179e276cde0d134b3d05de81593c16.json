{"ast":null,"code":"import _slicedToArray from\"C:/Users/82109/Desktop/jhj/\\uACF5\\uBD80/react_project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import*as React from'react';import{useState}from'react';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ListPage(){var contentArray=window.localStorage.getItem(\"contentArray\");var arr;if(contentArray==null){arr=[];}else{arr=JSON.parse(contentArray);}// 컴포넌트가 바로 업데이트 될 수있도록 useSate를 사용해, props 를 업데이트해준다.\nvar _useState=useState(arr),_useState2=_slicedToArray(_useState,2),parsedData=_useState2[0],setParsedData=_useState2[1];// 삭제 function\nvar actionDel=function actionDel(e,key){e.preventDefault();//const newArray = parsedData.filter((item) => item.key !== key);\n// item.key = key인것을 제외하고 필터링 (새로운 배얼을 만듦)]\n//결과적으로 수정해야하는 값을 수정해여야해.\n//localStorage에 있는 값을 변환하고싶은거니까, 결과적으로 그값을 수정하고, \nparsedData=parsedData.filter(function(item){return item.key!==key;});window.localStorage.setItem(\"contentArray\",JSON.stringify(parsedData));//데이터는 그 다음에 set해주면 돼. 먼저 set 하면 오류나!!!\nsetParsedData(JSON.parse(window.localStorage.getItem(\"contentArray\")));};return/*#__PURE__*/_jsx(\"div\",{className:\"list-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"sub-inner\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"sub-title\",children:\"List\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"ul\",{className:\"list-content\",children:[/*#__PURE__*/_jsxs(\"li\",{className:\"list-header\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"\\uBC88\\uD638\"}),/*#__PURE__*/_jsx(\"div\",{children:\"\\uC81C\\uBAA9\"}),/*#__PURE__*/_jsx(\"div\",{children:\"\\uAD00\\uB9AC\"})]}),parsedData.length!==0?parsedData.map(function(item,index){return/*#__PURE__*/_jsxs(\"li\",{className:\"list-body\",children:[/*#__PURE__*/_jsx(\"div\",{children:parsedData.length-index}),/*#__PURE__*/_jsx(\"div\",{className:\"subject\",children:/*#__PURE__*/_jsx(Link,{to:'/view/'+item.key,children:item.title})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"button-wrap-col\",children:[/*#__PURE__*/_jsx(Link,{to:'/write/'+item.key,type:\"button\",className:\"button-xs button-normal\",children:\"\\uC218\\uC815\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"button-xs button-del\",onClick:function onClick(e){actionDel(e,item.key);},children:\"\\uC0AD\\uC81C\"})]})})]},item.key);}):/*#__PURE__*/_jsx(\"li\",{className:\"list-empty\",children:\"\\uB4F1\\uB85D\\uB41C \\uAC8C\\uC2DC\\uAE00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"button-wrap-row\",children:/*#__PURE__*/_jsx(Link,{to:\"/write\",className:\"button button-m button-ok\",children:\" \\uAE00\\uC4F0\\uAE30\"})})]})]})});}export default ListPage;","map":{"version":3,"names":["React","useState","Link","ListPage","contentArray","window","localStorage","getItem","arr","JSON","parse","parsedData","setParsedData","actionDel","e","key","preventDefault","filter","item","setItem","stringify","length","map","index","title"],"sources":["C:/Users/82109/Desktop/jhj/공부/react_project/src/routes/ListPage.js"],"sourcesContent":["import * as React from 'react';\r\nimport { useState } from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\nfunction ListPage() {\r\n    const contentArray =  window.localStorage.getItem(\"contentArray\");\r\n\r\n    let arr;\r\n    if(contentArray == null) {\r\n      arr = [];\r\n    }else {\r\n      arr = JSON.parse(contentArray);\r\n    }\r\n   \r\n\r\n\r\n    // 컴포넌트가 바로 업데이트 될 수있도록 useSate를 사용해, props 를 업데이트해준다.\r\n    let [parsedData, setParsedData] = useState(arr);\r\n\r\n    // 삭제 function\r\n    const actionDel = (e, key) => {\r\n      e.preventDefault();\r\n      //const newArray = parsedData.filter((item) => item.key !== key);\r\n\r\n      // item.key = key인것을 제외하고 필터링 (새로운 배얼을 만듦)]\r\n\r\n      //결과적으로 수정해야하는 값을 수정해여야해.\r\n      //localStorage에 있는 값을 변환하고싶은거니까, 결과적으로 그값을 수정하고, \r\n      parsedData = parsedData.filter((item) => item.key !== key);\r\n\r\n      window.localStorage.setItem(\"contentArray\", JSON.stringify(parsedData));      \r\n\r\n      //데이터는 그 다음에 set해주면 돼. 먼저 set 하면 오류나!!!\r\n      setParsedData(JSON.parse(window.localStorage.getItem(\"contentArray\")));\r\n    }\r\n      return (\r\n        <div className=\"list-page\">\r\n          <div className='sub-inner'>\r\n            <h2 className='sub-title'>List</h2>\r\n            <form>\r\n              <ul className=\"list-content\">\r\n                <li className=\"list-header\">\r\n                  <div>번호</div>\r\n                  <div>제목</div>\r\n                  <div>관리</div>\r\n                </li>\r\n                  {parsedData.length !== 0 ? (\r\n                    parsedData.map((item, index) => \r\n                    <li className=\"list-body\" key={item.key}>\r\n                      <div>{parsedData.length - index}</div>\r\n                      <div className=\"subject\">\r\n                        <Link to={'/view/'+item.key}>\r\n                          {item.title}\r\n                        </Link>\r\n                        </div>\r\n                      <div>\r\n                        <div className='button-wrap-col'>\r\n                          <Link to={'/write/'+item.key} \r\n                            type=\"button\" \r\n                            className=\"button-xs button-normal\"\r\n                          >\r\n                            수정</Link>\r\n                          <button \r\n                            type=\"button\" \r\n                            className=\"button-xs button-del\"\r\n                            onClick={(e) => {actionDel(e, item.key)}\r\n                            }\r\n                          >\r\n                            {/* 01. 클릭한 애의 키값 받아오기 */}\r\n                            {/* 02. 키값이 지금숫자인 애를 배열에서 필터링*/}\r\n                            삭제</button>\r\n                        </div>\r\n                      </div>\r\n                    </li>\r\n                    )\r\n                  ) : (\r\n                    <li className=\"list-empty\">등록된 게시글 없습니다.</li>\r\n                  )}\r\n              </ul>\r\n    \r\n              <div className='button-wrap-row'>\r\n                <Link \r\n                  to={`/write`}\r\n                  className='button button-m button-ok'\r\n                > 글쓰기\r\n                </Link>\r\n              </div>\r\n    \r\n            </form>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    \r\n    export default ListPage;"],"mappings":"2IAAA,MAAO,GAAKA,CAAAA,KAAZ,KAAuB,OAAvB,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,OAAQC,IAAR,KAAmB,kBAAnB,C,wFAEA,QAASC,CAAAA,QAAT,EAAoB,CAChB,GAAMC,CAAAA,YAAY,CAAIC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,cAA5B,CAAtB,CAEA,GAAIC,CAAAA,GAAJ,CACA,GAAGJ,YAAY,EAAI,IAAnB,CAAyB,CACvBI,GAAG,CAAG,EAAN,CACD,CAFD,IAEM,CACJA,GAAG,CAAGC,IAAI,CAACC,KAAL,CAAWN,YAAX,CAAN,CACD,CAID;AACA,cAAkCH,QAAQ,CAACO,GAAD,CAA1C,wCAAKG,UAAL,eAAiBC,aAAjB,eAEA;AACA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,CAAD,CAAIC,GAAJ,CAAY,CAC5BD,CAAC,CAACE,cAAF,GACA;AAEA;AAEA;AACA;AACAL,UAAU,CAAGA,UAAU,CAACM,MAAX,CAAkB,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAACH,GAAL,GAAaA,GAAvB,EAAlB,CAAb,CAEAV,MAAM,CAACC,YAAP,CAAoBa,OAApB,CAA4B,cAA5B,CAA4CV,IAAI,CAACW,SAAL,CAAeT,UAAf,CAA5C,EAEA;AACAC,aAAa,CAACH,IAAI,CAACC,KAAL,CAAWL,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,cAA5B,CAAX,CAAD,CAAb,CACD,CAdD,CAeE,mBACE,YAAK,SAAS,CAAC,WAAf,uBACE,aAAK,SAAS,CAAC,WAAf,wBACE,WAAI,SAAS,CAAC,WAAd,kBADF,cAEE,qCACE,YAAI,SAAS,CAAC,cAAd,wBACE,YAAI,SAAS,CAAC,aAAd,wBACE,qCADF,cAEE,qCAFF,cAGE,qCAHF,GADF,CAMKI,UAAU,CAACU,MAAX,GAAsB,CAAtB,CACCV,UAAU,CAACW,GAAX,CAAe,SAACJ,IAAD,CAAOK,KAAP,qBACf,YAAI,SAAS,CAAC,WAAd,wBACE,qBAAMZ,UAAU,CAACU,MAAX,CAAoBE,KAA1B,EADF,cAEE,YAAK,SAAS,CAAC,SAAf,uBACE,KAAC,IAAD,EAAM,EAAE,CAAE,SAASL,IAAI,CAACH,GAAxB,UACGG,IAAI,CAACM,KADR,EADF,EAFF,cAOE,kCACE,aAAK,SAAS,CAAC,iBAAf,wBACE,KAAC,IAAD,EAAM,EAAE,CAAE,UAAUN,IAAI,CAACH,GAAzB,CACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,yBAFZ,0BADF,cAME,eACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,sBAFZ,CAGE,OAAO,CAAE,iBAACD,CAAD,CAAO,CAACD,SAAS,CAACC,CAAD,CAAII,IAAI,CAACH,GAAT,CAAT,CAAuB,CAH1C,0BANF,GADF,EAPF,GAA+BG,IAAI,CAACH,GAApC,CADe,EAAf,CADD,cA8BC,WAAI,SAAS,CAAC,YAAd,6EApCN,GADF,cAyCE,YAAK,SAAS,CAAC,iBAAf,uBACE,KAAC,IAAD,EACE,EAAE,SADJ,CAEE,SAAS,CAAC,2BAFZ,iCADF,EAzCF,GAFF,GADF,EADF,CAyDD,CAED,cAAeZ,CAAAA,QAAf"},"metadata":{},"sourceType":"module"}