{"ast":null,"code":"import _toConsumableArray from\"C:/Users/82109/Desktop/jhj/\\uACF5\\uBD80/react_project/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/82109/Desktop/jhj/\\uACF5\\uBD80/react_project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'../css/write-page.css';import{useState}from'react';import{useParams}from'react-router-dom';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function WritePage(){/* ## 1. write 구현하기 */var storeageData=window.localStorage.getItem('contentArray');var params=useParams();var editTitle='';var editContent='';var arr;if(storeageData==null){arr=[];}else{arr=JSON.parse(storeageData);}/* 수정하기의 경우, id의 값을 value로 불러오기 */if(params['*']===''){}else{var thisCont=arr.filter(function(item){return item.key==params['*'];});editTitle=thisCont[0].title;editContent=thisCont[0].value;}//1. 글쓴것을 저장하는 useState  - title\nvar _useState=useState(editTitle),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];//2. 글쓴것을 배열로 저장할 useState\nvar _useState3=useState(arr),_useState4=_slicedToArray(_useState3,2),titletArray=_useState4[0],setTitletArray=_useState4[1];var writeTitle=function writeTitle(event){return setTitle(event.target.value);};//1. 글쓴것을 저장하는 useState  - content\nvar _useState5=useState(editContent),_useState6=_slicedToArray(_useState5,2),content=_useState6[0],setContent=_useState6[1];//2. 글쓴것을 배열로 저장할 useState\nvar _useState7=useState(arr),_useState8=_slicedToArray(_useState7,2),contentArray=_useState8[0],setContentArray=_useState8[1];var writeContent=function writeContent(event){return setContent(event.target.value);};var onSubmit=function onSubmit(event){event.preventDefault();if(content===\"\"){alert('글을 입력해주세요.');return;}else{if(params['*']===''){//3. 글쓴것을 object화 하기   \n// 얘는 앞에 함수랑 상관없음 가져오는 값 content를 object로 변환해서 array로 저장시키기 위한 변수일뿐임 \nvar dataKey;if(contentArray.length==0){dataKey=0;}else{dataKey=contentArray[0].key+1;}var contentsData={title:title,value:content,key:dataKey};//노마드코딩이 알려줌-> 블로그\n//4. 배열에 전배열과 같이 넣기\n//이거는 object화한contentsData \nsetContentArray(function(currentArray){return[contentsData].concat(_toConsumableArray(currentArray));});//5. 작성시, list page로 이동\n//navigate('/');\nwindow.location.href=\"/view/\".concat(dataKey);}else{//03-02) item.key == params.id 일때, 해당 item의 value를 textarea의 value로 수정\narr.map(function(item){if(item.key==params['*']){item.title=title;item.value=content;}});console.log(arr);//03-03) localStroage에 해당 사항을 저장해준다.\nwindow.localStorage.setItem(\"contentArray\",JSON.stringify(arr));//데이터는 그 다음에 set해주면 돼. 먼저 set 하면 오류나!!!\n//setParsedData(JSON.parse(window.localStorage.getItem(\"contentArray\")));\nwindow.location.href=\"/view/\".concat(params['*']);}}};//5. logalstorage에 저장하기\nwindow.localStorage.setItem(\"contentArray\",JSON.stringify(contentArray));return/*#__PURE__*/_jsx(\"div\",{className:\"write-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"sub-inner\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"sub-title\",children:\"Write\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:title,placeholder:\"\\uC81C\\uBAA9\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",onChange:writeTitle}),/*#__PURE__*/_jsx(\"textarea\",{value:content,placeholder:\"\\uB0B4\\uC6A9\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\",onChange:writeContent}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-wrap-row\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"button button-m button-normal\",children:\"\\uBAA9\\uB85D\\uC73C\\uB85C\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"button button-m button-ok\",onClick:onSubmit,children:\"\\uD655\\uC778\"})]})]})]})});}export default WritePage;","map":{"version":3,"names":["useState","useParams","Link","WritePage","storeageData","window","localStorage","getItem","params","editTitle","editContent","arr","JSON","parse","thisCont","filter","item","key","title","value","setTitle","titletArray","setTitletArray","writeTitle","event","target","content","setContent","contentArray","setContentArray","writeContent","onSubmit","preventDefault","alert","dataKey","length","contentsData","currentArray","location","href","map","console","log","setItem","stringify"],"sources":["C:/Users/82109/Desktop/jhj/공부/react_project/src/routes/WritePage.js"],"sourcesContent":["import '../css/write-page.css';\nimport { useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport {Link} from 'react-router-dom';\n\n\nfunction WritePage() {\n  /* ## 1. write 구현하기 */\n  const storeageData = window.localStorage.getItem('contentArray');\n  const params = useParams();\n  let editTitle = '';\n  let editContent = '';\n\n  let arr;\n  if(storeageData == null ) {\n    arr = []\n  } else {\n    arr = JSON.parse(storeageData);\n  }\n\n  /* 수정하기의 경우, id의 값을 value로 불러오기 */\n  if(params['*'] === '') {\n\n  } else {\n    var thisCont = arr.filter(\n      (item) => item.key == params['*']\n    );\n    editTitle = thisCont[0].title;\n    editContent = thisCont[0].value;\n  }\n\n  //1. 글쓴것을 저장하는 useState  - title\n  const [title, setTitle] = useState(editTitle);\n  //2. 글쓴것을 배열로 저장할 useState\n  const [titletArray, setTitletArray] = useState(arr);\n  const writeTitle = (event) => setTitle(event.target.value);\n  \n  //1. 글쓴것을 저장하는 useState  - content\n  const [content, setContent] = useState(editContent);\n  //2. 글쓴것을 배열로 저장할 useState\n  const [contentArray, setContentArray] = useState(arr);\n  const writeContent = (event) => setContent(event.target.value);\n\n  const onSubmit = (event) => {\n    event.preventDefault();\n\n    if(content === \"\") {\n      alert('글을 입력해주세요.');\n      return;\n    } else {\n      if(params['*'] === '') {\n        //3. 글쓴것을 object화 하기   \n        // 얘는 앞에 함수랑 상관없음 가져오는 값 content를 object로 변환해서 array로 저장시키기 위한 변수일뿐임 \n        let dataKey;\n        if( contentArray.length == 0 ) {\n          dataKey = 0;\n        } else {\n          dataKey = contentArray[0].key + 1;\n        }\n        const contentsData = { \n          title : title, \n          value : content, \n          key : dataKey \n        };\n        \n        //노마드코딩이 알려줌-> 블로그\n        //4. 배열에 전배열과 같이 넣기\n        //이거는 object화한contentsData \n        setContentArray(currentArray => [contentsData, ...currentArray]);\n\n        //5. 작성시, list page로 이동\n        //navigate('/');\n        window.location.href = `/view/${dataKey}`\n      }else {\n        //03-02) item.key == params.id 일때, 해당 item의 value를 textarea의 value로 수정\n        arr.map((item) => {\n            if(item.key == params['*']){\n              item.title = title;\n              item.value = content;\n            }\n          }\n        );\n        console.log(arr);\n\n        //03-03) localStroage에 해당 사항을 저장해준다.\n        window.localStorage.setItem(\"contentArray\", JSON.stringify(arr));\n        //데이터는 그 다음에 set해주면 돼. 먼저 set 하면 오류나!!!\n        //setParsedData(JSON.parse(window.localStorage.getItem(\"contentArray\")));\n\n        window.location.href = `/view/${params['*']}`\n      }\n    }\n  }\n  //5. logalstorage에 저장하기\n  window.localStorage.setItem(\"contentArray\", JSON.stringify(contentArray));\n\n\n  return (\n    <div className=\"write-page\">\n      <div className='sub-inner'>\n        <h2 className='sub-title'>Write</h2>\n        <form>\n          <input \n            type=\"text\"\n            value={title}\n            placeholder=\"제목을 입력해주세요\"\n            onChange={writeTitle}\n            \n          >\n          </input>\n          <textarea\n            value={content}\n            placeholder=\"내용을 입력해주세요.\"\n            onChange={writeContent}\n            \n          >            \n          </textarea>\n\n          <div className='button-wrap-row'>\n            <Link to=\"/\"\n            className='button button-m button-normal'\n            >목록으로</Link>\n            <button \n            type='button'\n            className='button button-m button-ok'\n            onClick={onSubmit}\n            >확인\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default WritePage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}